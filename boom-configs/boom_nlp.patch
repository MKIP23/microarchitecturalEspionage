diff --git a/src/main/scala/v3/common/config-mixins.scala b/src/main/scala/v3/common/config-mixins.scala
index ca0e2796..4f94ca13 100644
--- a/src/main/scala/v3/common/config-mixins.scala
+++ b/src/main/scala/v3/common/config-mixins.scala
@@ -463,6 +463,63 @@ class WithTAGELBPD extends Config((site, here, up) => {
   }
 })
 
+class WithSmallTAGELBPD extends Config((site, here, up) => {
+  case TilesLocated(InSubsystem) => up(TilesLocated(InSubsystem), site) map {
+    case tp: BoomTileAttachParams => tp.copy(tileParams = tp.tileParams.copy(core = tp.tileParams.core.copy(
+      bpdMaxMetaLength = 120,
+      globalHistoryLength = 64,
+      localHistoryLength = 1,
+      localHistoryNSets = 0,
+      branchPredictor = ((resp_in: BranchPredictionBankResponse, p: Parameters) => {
+        val tage = Module(new TageBranchPredictorBank()(p))
+        val btb = Module(new BTBBranchPredictorBank()(p))
+        val bim = Module(new BIMBranchPredictorBank()(p))
+        val preds = Seq(tage, btb, bim)
+        preds.map(_.io := DontCare)
+
+        bim.io.resp_in(0)  := resp_in
+        btb.io.resp_in(0)  := bim.io.resp
+        tage.io.resp_in(0) := btb.io.resp
+
+        (preds, tage.io.resp)
+      })
+    )))
+    case other => other
+  }
+})
+
+class WithNLPBimBtbBPD extends Config((site, here, up) => {
+  case TilesLocated(InSubsystem) => up(TilesLocated(InSubsystem), site) map {
+    case tp: BoomTileAttachParams =>
+      tp.copy(tileParams = tp.tileParams.copy(core = tp.tileParams.core.copy(
+        // You can optionally shrink meta/global history if you want
+        bpdMaxMetaLength    = 32,
+        globalHistoryLength = 16,
+        localHistoryLength  = 1,
+        localHistoryNSets   = 0,
+
+        branchPredictor = { (resp_in: BranchPredictionBankResponse, p: Parameters) =>
+          // NLP (micro-BTB), BIM, Dense BTB only
+          val ubtb = Module(new FAMicroBTBBranchPredictorBank()(p)) // NLP
+          val bim  = Module(new BIMBranchPredictorBank()(p))
+          val btb  = Module(new BTBBranchPredictorBank()(p))
+
+          val preds = Seq(ubtb, bim, btb)
+          preds.map(_.io := DontCare)
+
+          // Chain: NLP -> BIM -> BTB
+          ubtb.io.resp_in(0) := resp_in
+          bim.io.resp_in(0)  := ubtb.io.resp
+          btb.io.resp_in(0)  := bim.io.resp
+
+          // Final prediction comes directly from BTB
+          (preds, btb.io.resp)
+        }
+      )))
+    case other => other
+  }
+})
+
 class WithBoom2BPD extends Config((site, here, up) => {
   case TilesLocated(InSubsystem) => up(TilesLocated(InSubsystem), site) map {
     case tp: BoomTileAttachParams => tp.copy(tileParams = tp.tileParams.copy(core = tp.tileParams.core.copy(
@@ -537,3 +594,91 @@ class WithSWBPD extends Config((site, here, up) => {
     case other => other
   }
 })
+
+//Config for 1-level predictor, NLP for brad-v1 attack
+class WithNSmallBoomsNLP(n: Int = 1) extends Config(
+  new WithNLPBimBtbBPD ++ // Default to TAGE-L BPD
+  new Config((site, here, up) => {
+    case TilesLocated(InSubsystem) => {
+      val prev = up(TilesLocated(InSubsystem), site)
+      val idOffset = up(NumTiles)
+      (0 until n).map { i =>
+        BoomTileAttachParams(
+          tileParams = BoomTileParams(
+            core = BoomCoreParams(
+              fetchWidth = 4,
+              decodeWidth = 1,
+              numRobEntries = 32,
+              issueParams = Seq(
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_MEM.litValue, dispatchWidth=1),
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_INT.litValue, dispatchWidth=1),
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_FP.litValue , dispatchWidth=1)),
+              numIntPhysRegisters = 52,
+              numFpPhysRegisters = 48,
+              numLdqEntries = 8,
+              numStqEntries = 8,
+              maxBrCount = 8,
+              numFetchBufferEntries = 8,
+              ftq = FtqParameters(nEntries=16),
+              nPerfCounters = 2,
+              fpu = Some(freechips.rocketchip.tile.FPUParams(sfmaLatency=4, dfmaLatency=4, divSqrt=true))
+            ),
+            dcache = Some(
+              DCacheParams(rowBits = 64, nSets=64, nWays=4, nMSHRs=2, nTLBWays=8)
+            ),
+            icache = Some(
+              ICacheParams(rowBits = 64, nSets=64, nWays=4, fetchBytes=2*4)
+            ),
+            tileId = i + idOffset
+          ),
+          crossingParams = RocketCrossingParams()
+        )
+      } ++ prev
+    }
+    case NumTiles => up(NumTiles) + n
+  })
+)
+
+//Config for TAGE-L predictor against brad-v1 attack
+class WithNSmallBoomsTAGE(n: Int = 1) extends Config(
+  new WithSmallTAGELBPD ++
+  new Config((site, here, up) => {
+    case TilesLocated(InSubsystem) => {
+      val prev = up(TilesLocated(InSubsystem), site)
+      val idOffset = up(NumTiles)
+      (0 until n).map { i =>
+        BoomTileAttachParams(
+          tileParams = BoomTileParams(
+            core = BoomCoreParams(
+              fetchWidth = 4,
+              decodeWidth = 1,
+              numRobEntries = 32,
+              issueParams = Seq(
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_MEM.litValue, dispatchWidth=1),
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_INT.litValue, dispatchWidth=1),
+                IssueParams(issueWidth=1, numEntries=8, iqType=IQT_FP.litValue , dispatchWidth=1)),
+              numIntPhysRegisters = 52,
+              numFpPhysRegisters = 48,
+              numLdqEntries = 8,
+              numStqEntries = 8,
+              maxBrCount = 8,
+              numFetchBufferEntries = 8,
+              ftq = FtqParameters(nEntries=16),
+              nPerfCounters = 2,
+              fpu = Some(freechips.rocketchip.tile.FPUParams(sfmaLatency=4, dfmaLatency=4, divSqrt=true))
+            ),
+            dcache = Some(
+              DCacheParams(rowBits = 64, nSets=64, nWays=4, nMSHRs=2, nTLBWays=8)
+            ),
+            icache = Some(
+              ICacheParams(rowBits = 64, nSets=64, nWays=4, fetchBytes=2*4)
+            ),
+            tileId = i + idOffset
+          ),
+          crossingParams = RocketCrossingParams()
+        )
+      } ++ prev
+    }
+    case NumTiles => up(NumTiles) + n
+  })
+)
\ No newline at end of file
